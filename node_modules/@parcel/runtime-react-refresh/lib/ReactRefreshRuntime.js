"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _plugin() {
  const data = require("@parcel/plugin");

  _plugin = function () {
    return data;
  };

  return data;
}

const CODE = `
var Refresh = require('react-refresh/runtime');

Refresh.injectIntoGlobalHook(window);
window.$RefreshReg$ = function() {};
window.$RefreshSig$ = function() {
  return function(type) {
    return type;
  };
};`;

var _default = new (_plugin().Runtime)({
  async apply({
    bundle,
    options
  }) {
    if (bundle.type !== 'js' || !options.hmrOptions || !bundle.env.isBrowser() || options.mode !== 'development') {
      return;
    }

    let entries = bundle.getEntryAssets();

    for (let entry of entries) {
      let pkg = await entry.getPackage();

      if (pkg && (pkg.dependencies && pkg.dependencies['react'] || pkg.devDependencies && pkg.devDependencies['react'])) {
        return {
          filePath: __filename,
          code: CODE,
          isEntry: true
        };
      }
    }
  }

});

exports.default = _default;